<div align="center">

[![React Relink Banner](https://raw.githubusercontent.com/chin98edwin/react-relink/main/assets/react-relink-wording.svg)](https://github.com/chin98edwin/react-relink)

[![Version](https://img.shields.io/npm/v/react-relink.svg)](https://www.npmjs.com/package/react-relink)
![Build Status](https://img.shields.io/github/workflow/status/chin98edwin/langutil/Test/main)
![Bundle size](https://img.shields.io/bundlephobia/min/react-relink)
![Downloads](https://img.shields.io/npm/dt/react-relink)
[![License](https://img.shields.io/npm/l/react-relink)](https://github.com/chin98edwin/react-relink/blob/main/LICENSE)

![Designed for React](https://img.shields.io/static/v1?label&logo=react&logoColor=61DBFB&message=Designed%20for%20React&color=4a4a4a)
[![Open in Visual Studio Code](https://open.vscode.dev/badges/open-in-vscode.svg)](https://open.vscode.dev/chin98edwin/react-relink)
[![Support me on Ko-fi](https://img.shields.io/static/v1?label&logo=kofi&logoColor=ffffff&message=Support%20me%20on%20Ko-fi&color=FF5E5B)](https://ko-fi.com/dev_chin98edwin)


</div>

<br/>

[**üöß„ÄÄIMPORTANT: What's Coming in V1„ÄÄüöß**](https://github.com/chin98edwin/react-relink/blob/main/docs/whats-coming-in-v1.md)

<br/>

Relink is a React state management library inspired by [Recoil](https://recoiljs.org). Because of that, Relink has some API names that are similar to Recoil's, however their usage pattern may be completely different. Keep on reading to learn more.

With Relink,
* There will be less boilerplate code, just like Recoil;
* There is no need to wrap components in a Provider;
* States can be shared across different React components trees.

Relink is *not* a replacement for Recoil ‚Äî it can, however serve as an alternative for projects that do not require the full feature-set of Recoil. Relink also has a few downsides:
* It might not have APIs advanced enough for edge cases that would otherwise be achievable with Recoil;
* Server-side rendering is not officially supported;
* Relink is also experimental ‚Äî there might be some unforeseen issues.

<br/>

*‚òïÔ∏è Extra Reading: [State Management with React Relink](https://dev.to/chin98edwin/state-management-with-react-relink-3g9)*

*üåÄ Miscellaneous: Looking for a specialized package to handle localizations? Check out [Langutil](https://github.com/chin98edwin/langutil).*

<br/>

# Table of Contents
<!-- Automatically generated by VS Code -->
- [Table of Contents](#table-of-contents)
- [Installation](#installation)
- [Create a Source](#create-a-source)
- [Consume a Source](#consume-a-source)
- [Documentation](#documentation)

<br/>

# Installation

With [NPM](https://www.npmjs.com/package/react-relink):
```sh
npm i react-relink
```

<br/>

With [Yarn](https://yarnpkg.com/package/react-relink):
```sh
yarn add react-relink
```

<br/>

With UNPKG:
```html
<script src="https://unpkg.com/react-relink@<VERSION>/dist/umd/index.js" crossorigin></script>
```
Remember to replace `index.js` with `index.min.js` when deploying.

<br/>

# Create a Source

Provide a default state for the source.

```js
import { createSource } from 'react-relink'

const CounterSource = createSource({
  key: 'counter', // Optional, used for debugging with React DevTools
  default: 1,
})
```

<br/>

# Consume a Source

In Relink, you can work with the sources right away without needing to wrap your app inside any provider components. This makes accessing them across different React component trees easy, such as when [registering screen components](https://wix.github.io/react-native-navigation/docs/third-party-react-context#register-the-screen) in React Native Navigation.

To consume a source, pass it as a parameter into any of the following Relink hooks:
* `useRelinkState` - returns the state value and a setter function like React's [`useState`](https://reactjs.org/docs/hooks-state.html)
* `useSetRelinkState` - returns just the setter function of the state
* `useRelinkValue` - returns just the value of the state
* `useResetRelinkState` - returns a function that sets the state to its default value
* `useRehydrateRelinkSource` - returns a function that sets the state without invoking the `didSet` lifecycle method

An example with the `useRelinkState` hook:

```js
function App() {
  const [counter, setCounter] = useRelinkState(CounterSource)
  // `setCounter` accepts either:
  // ‚Ä¢¬†A value to replace the state, or
  // ‚Ä¢¬†A function that returns a new state.
  return (
    <div>
      <span>Counter: {counter}</span>
      <button onClick={() => { setCounter(5) }}>Set to 5</button>
      <button onClick={() => { setCounter(c => c + 1) }}>Step up</button>
    </div>
  )
}
```

Examples with other hooks:

```js
const counter = useRelinkValue(CounterSource)
console.log('Counter is ' + counter)
```

```js
const setCounter = useSetRelinkState(CounterSource)
setCounter(/* new value */)
```

```js
const resetCounter = useResetRelinkState(CounterSource)
resetCounter()
```

```js
const rehydrateCounter = useRehydrateRelinkSource(CounterSource)
rehydrateCounter(({ commit }) => {
  commit(/* new value */)
})
```

<br/>

# Documentation
* [Main Directory](https://github.com/chin98edwin/react-relink/blob/main/docs)
* [Selectors](https://github.com/chin98edwin/react-relink/blob/main/docs/selectors.md)
* [Lifecycle](https://github.com/chin98edwin/react-relink/blob/main/docs/lifecycle.md)
* [Source Dependencies](https://github.com/chin98edwin/react-relink/blob/main/docs/source-dependencies.md)
* [Immutability In Setters](https://github.com/chin98edwin/react-relink/blob/main/docs/immutability-in-setters.md)
* [Options](https://github.com/chin98edwin/react-relink/blob/main/docs/options.md)
* [Error Codes](https://github.com/chin98edwin/react-relink/blob/main/docs/error-codes.md)
* [Interacting with Sources Outside of React Tree](https://github.com/chin98edwin/react-relink/blob/main/docs/interacting-with-sources-outside-of-react-tree.md)

<br/>
